/*
	@version 0.1.6
	https://github.com/smolk/angular.treeview

	@fork from:
	@license Angular Treeview version 0.1.6
	â“’ 2013 AHN JAE-HA http://github.com/eu81273/angular.treeview
	License: MIT


	[TREE attribute]
	angular-treeview: the treeview directive
	tree-id : each tree's unique id.
	tree-model : the tree model on $scope.
	node-id : each node's id
	node-label : each node's label
	node-children: each node's children
 	node-filter: free text to search in tree nodes

	<div
		data-angular-treeview="true"
		data-tree-id="tree"
		data-tree-model="roleList"
		data-node-id="roleId"
		data-node-label="roleName"
		data-node-children="children"
 		data-node-filter="freeTextSearch">
	</div>
*/
!function(e){"use strict";e.module("angularTreeview",[]).directive("treeModel",["$compile","$log",function(e,d){return{restrict:"A",link:function(d,l,n){var a=n.treeId,t=a?a+".":"",o=n.treeModel,c=n.nodeId||"id",i=n.nodeLabel||"label",r=n.nodeChildren||"children",s=n.nodeFilter||"",u=""!==s?" | nodefilter: "+s:"",g='<ul><li data-ng-repeat="node in '+o+u+'"><i class="collapsed" data-ng-show="node.'+r+'.length && node.collapsed" data-ng-click="'+t+'selectNodeHead(node)"></i><i class="expanded" data-ng-show="node.'+r+'.length && !node.collapsed" data-ng-click="'+t+'selectNodeHead(node)"></i><i class="normal" data-ng-hide="node.'+r+'.length"></i> <span data-ng-class="node.selected" data-ng-click="'+t+'selectNodeLabel(node)">{{node.'+i+'}}</span><div data-ng-hide="node.collapsed" '+(a?'data-tree-id="'+a+'"':"")+' data-tree-model="node.'+r+'" data-node-id='+c+" data-node-label="+i+" data-node-children="+r+"></div></li></ul>";if(o){if(n.angularTreeview){var f=d;a&&(f=d[a]=d[a]||{}),f.selectNodeHead=f.selectNodeHead||function(e){e.collapsed=!e.collapsed},f.selectNodeLabel=f.selectNodeLabel||function(e){return e.isFolder?f.selectNodeHead(e):(f.currentNode&&f.currentNode.selected&&(f.currentNode.selected=void 0),e.selected="selected",void(f.currentNode=e))}}l.html("").append(e(g)(d))}}}}]).filter("nodefilter",["$filter",function(d){var l=d("filter");return function(d,n){var a=l(d,n);return n&&a.length>0&&e.forEach(a,function(e){e.collapsed=!1}),a}}])}(angular);